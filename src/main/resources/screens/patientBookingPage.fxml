<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane prefHeight="600.0" prefWidth="900.0" style="-fx-background-color: #f0f2f5;"
            xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.PatientBookingPageController">

    <children>

        <!-- Vibrant Top Navigation Bar -->
        <HBox alignment="CENTER_LEFT" prefHeight="70" prefWidth="900"
              spacing="20"
              style="-fx-background-color: linear-gradient(to right, #3b82f6, #8b5cf6);
                     -fx-effect: dropshadow(gaussian, rgba(59,130,246,0.3), 12, 0, 0, 4);">
            <padding>
                <Insets left="30" right="30" top="15" bottom="15"/>
            </padding>
            <children>

                <Button text="← Back"
                        onAction="#handleBackButton"
                        style="-fx-background-color: rgba(255,255,255,0.2);
                               -fx-text-fill: white;
                               -fx-font-size: 14px;
                               -fx-font-weight: 600;
                               -fx-padding: 10 20;
                               -fx-background-radius: 12;
                               -fx-cursor: hand;"/>

                <Label text="Book Appointment"
                       style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: white;"/>

                <Region HBox.hgrow="ALWAYS"/>

            </children>
        </HBox>

        <!-- Main Content -->
        <VBox alignment="TOP_CENTER" spacing="20"
              layoutY="70"
              prefWidth="900"
              style="-fx-background-color: #f0f2f5;">
            <padding>
                <Insets top="30" bottom="30" left="30" right="30"/>
            </padding>
            <children>

                <!-- Page Title with Accent -->
                <HBox alignment="CENTER_LEFT" spacing="12" prefWidth="840">
                    <Label text="New Appointment Booking"
                           style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #1e293b;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                </HBox>

                <!-- Main Booking Card -->
                <VBox spacing="24"
                      maxWidth="840"
                      style="-fx-background-color: #ffffff;
                             -fx-background-radius: 16;
                             -fx-padding: 32;
                             -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.12), 16, 0, 0, 6);
                             -fx-border-color: #e2e8f0;
                             -fx-border-width: 1;
                             -fx-border-radius: 16;">

                    <!-- Form Fields Section -->
                    <VBox spacing="20">

                        <!-- Date and Time Row -->
                        <HBox spacing="16" alignment="CENTER_LEFT">
                            <VBox spacing="8" prefWidth="200">
                                <Label text="Appointment Date *"
                                       style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #475569;"/>
                                <DatePicker fx:id="appointmentDatePicker"
                                            style="-fx-background-radius: 10;
                                                   -fx-background-color: #f8fafc;
                                                   -fx-border-color: #cbd5e1;
                                                   -fx-border-radius: 10;
                                                   -fx-pref-width: 200;
                                                   -fx-pref-height: 42;"/>
                            </VBox>

                            <VBox spacing="8" prefWidth="200">
                                <Label text="Appointment Time *"
                                       style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #475569;"/>
                                <TextField fx:id="appointmentTimeField"
                                           promptText="HH:mm (e.g., 14:30)"
                                           style="-fx-background-radius: 10;
                                                  -fx-background-color: #f8fafc;
                                                  -fx-border-color: #cbd5e1;
                                                  -fx-border-radius: 10;
                                                  -fx-padding: 0 14;
                                                  -fx-font-size: 14px;
                                                  -fx-pref-width: 200;
                                                  -fx-pref-height: 42;"/>
                            </VBox>
                        </HBox>

                        <!-- Doctor Selection Row -->
                        <VBox spacing="8">
                            <Label text="Doctor *"
                                   style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #475569;"/>
                            <HBox spacing="12" alignment="CENTER_LEFT">
                                <TextField fx:id="doctorIdField"
                                           promptText="Doctor ID"
                                           style="-fx-background-radius: 10;
                                                  -fx-background-color: #f8fafc;
                                                  -fx-border-color: #cbd5e1;
                                                  -fx-border-radius: 10;
                                                  -fx-padding: 0 14;
                                                  -fx-font-size: 14px;
                                                  -fx-pref-width: 150;
                                                  -fx-pref-height: 42;"/>
                                <Label text="or"
                                       style="-fx-font-size: 14px; -fx-text-fill: #64748b; -fx-padding: 0 8;"/>
                                <ComboBox fx:id="specializationCombo"
                                          promptText="Select Specialization"
                                          prefWidth="250"
                                          prefHeight="42"
                                          style="-fx-background-radius: 10;
                                                 -fx-background-color: #f8fafc;
                                                 -fx-border-color: #cbd5e1;
                                                 -fx-border-radius: 10;"/>
                            </HBox>
                        </VBox>

                        <!-- Notes/Reason Section -->
                        <VBox spacing="8">
                            <Label text="Reason for Visit / Notes"
                                   style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #475569;"/>
                            <TextArea fx:id="notesTextArea"
                                      promptText="Please describe the reason for your appointment (optional)..."
                                      wrapText="true"
                                      prefRowCount="4"
                                      style="-fx-background-radius: 10;
                                             -fx-background-color: #f8fafc;
                                             -fx-border-color: #cbd5e1;
                                             -fx-border-radius: 10;
                                             -fx-padding: 12;
                                             -fx-font-size: 14px;
                                             -fx-pref-width: 792;"/>
                        </VBox>

                        <!-- Divider -->
                        <Separator style="-fx-background-color: #e2e8f0;"/>

                        <!-- Action Buttons -->
                        <HBox spacing="12" alignment="CENTER_RIGHT">
                            <Button text="Cancel"
                                    onAction="#handleCancelButton"
                                    style="-fx-background-radius: 10;
                                           -fx-background-color: #f1f5f9;
                                           -fx-text-fill: #64748b;
                                           -fx-font-size: 14px;
                                           -fx-font-weight: 600;
                                           -fx-padding: 12 28;
                                           -fx-pref-height: 42;
                                           -fx-cursor: hand;
                                           -fx-border-color: #e2e8f0;
                                           -fx-border-width: 1;
                                           -fx-border-radius: 10;"/>

                            <Button text="Book Appointment"
                                    onAction="#handleSubmitButton"
                                    style="-fx-background-radius: 10;
                                           -fx-background-color: linear-gradient(to right, #3b82f6, #8b5cf6);
                                           -fx-text-fill: white;
                                           -fx-font-size: 14px;
                                           -fx-font-weight: bold;
                                           -fx-padding: 12 28;
                                           -fx-pref-height: 42;
                                           -fx-cursor: hand;
                                           -fx-effect: dropshadow(gaussian, rgba(59,130,246,0.4), 8, 0, 0, 3);"/>
                        </HBox>

                    </VBox>
                </VBox>

                <!-- Info Card -->
                <VBox spacing="12"
                      maxWidth="840"
                      style="-fx-background-color: #f0f9ff;
                             -fx-background-radius: 12;
                             -fx-padding: 20;
                             -fx-border-color: #bae6fd;
                             -fx-border-width: 1;
                             -fx-border-radius: 12;">
                    <HBox spacing="12" alignment="CENTER_LEFT">
                        <Label text="ℹ️"
                               style="-fx-font-size: 18px;"/>
                        <VBox spacing="4">
                            <Label text="Booking Information"
                                   style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #0369a1;"/>
                            <Label text="Please fill in all required fields (*) to book your appointment. You can search by Doctor ID or select a specialization to find available doctors."
                                   style="-fx-font-size: 13px; -fx-text-fill: #0c4a6e; -fx-wrap-text: true;"/>
                        </VBox>
                    </HBox>
                </VBox>

            </children>
        </VBox>
    </children>
</AnchorPane>

