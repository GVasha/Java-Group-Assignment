<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<AnchorPane prefHeight="650" prefWidth="1000" style="-fx-background-color: #f5f5f5;"
            xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.PatientPageController">

    <children>

        <!-- Background Image with Blur -->
        <ImageView fitHeight="650" fitWidth="1000" preserveRatio="false"
                   opacity="0.40"
                   style="-fx-effect: gaussian-blur(22px);">
            <image>
                <Image url="@../images/patient_page.jpg"/>
            </image>
        </ImageView>

        <!-- Top Navigation Bar -->
        <HBox alignment="CENTER_LEFT" prefHeight="70" prefWidth="1000"
              spacing="30"
              style="-fx-background-color: rgba(0,0,0,0.45);
                     -fx-padding: 0 40;
                     -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 16, 0, 0, 3);">

            <children>

                <!-- Greeting -->
                <Label fx:id="patientGreetingLabel"
                       style="-fx-font-size: 32px; -fx-text-fill: white; -fx-font-weight: bold;"
                       text="Hello, Patient"/>

                <Pane HBox.hgrow="ALWAYS"/>

                <!-- Navigation Buttons -->
                <Button fx:id="bookButton"
                        text="Book"
                        style="-fx-background-radius: 20;
                               -fx-background-color: #1E90FF;
                               -fx-text-fill: white;
                               -fx-font-size: 16;
                               -fx-padding: 6 18;
                               -fx-cursor: hand;"/>

                <Button fx:id="appointmentsButton"
                        text="My Appointments"
                        style="-fx-background-radius: 20;
                               -fx-background-color: #1E90FF;
                               -fx-text-fill: white;
                               -fx-font-size: 16;
                               -fx-padding: 6 18;
                               -fx-cursor: hand;"/>

                <Button fx:id="profileButton"
                        text="Profile"
                        style="-fx-background-radius: 20;
                               -fx-background-color: #1E90FF;
                               -fx-text-fill: white;
                               -fx-font-size: 16;
                               -fx-padding: 6 18;
                               -fx-cursor: hand;"/>
            </children>
        </HBox>

        <!-- Main content -->
        <VBox alignment="TOP_CENTER" spacing="25"
              layoutY="90"
              prefWidth="1000">

            <children>

                <Label text="Your Appointments"
                       style="-fx-font-size: 30px; -fx-font-weight: bold; -fx-text-fill: #222;"/>

                <!-- Card -->
                <VBox spacing="18"
                      maxWidth="880"
                      style="-fx-background-color: rgba(255,255,255,0.9);
                             -fx-background-radius: 14;
                             -fx-padding: 20;
                             -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.18), 18, 0, 0, 4);">

                    <!-- Filters -->
                    <HBox spacing="12">

                        <Label text="From:"/>
                        <DatePicker fx:id="startDatePicker"/>

                        <Label text="To:"/>
                        <DatePicker fx:id="endDatePicker"/>

                        <Label text="Doctor ID:"/>
                        <TextField fx:id="doctorIdField" prefWidth="70"/>

                        <Label text="Status:"/>
                        <ComboBox fx:id="statusCombo" prefWidth="120"/>

                        <Pane HBox.hgrow="ALWAYS"/>

                        <Button text="Filter" onAction="#handleFilter"
                                style="-fx-background-color: #1E90FF; -fx-text-fill: white; -fx-background-radius: 8;"/>

                        <Button text="Reset" onAction="#handleReset"
                                style="-fx-background-color: #888; -fx-text-fill: white; -fx-background-radius: 8;"/>
                    </HBox>

                    <!-- Table -->
                    <TableView fx:id="appointmentsTable" prefHeight="350" prefWidth="850"
                               style="-fx-background-radius: 10; -fx-border-radius: 10;
                                      -fx-border-color: #ddd; -fx-border-width: 1;">

                        <columns>
                            <TableColumn fx:id="dateColumn" text="Date" prefWidth="120"/>
                            <TableColumn fx:id="timeColumn" text="Time" prefWidth="100"/>
                            <TableColumn fx:id="doctorIdColumn" text="Doctor ID" prefWidth="80"/>
                            <TableColumn fx:id="doctorColumn" text="Doctor" prefWidth="200"/>
                            <TableColumn fx:id="notesColumn" text="Reason" prefWidth="200"/>
                            <TableColumn fx:id="statusColumn" text="Status" prefWidth="120"/>
                        </columns>

                    </TableView>
                </VBox>
            </children>
        </VBox>
    </children>
</AnchorPane>
